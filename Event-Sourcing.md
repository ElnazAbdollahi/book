ุจฺฏุฐุงุฑุฏ ุงู ูุชู ุฑุง ุจู ุฒุจุงู ุณุงุฏู ุชูุถุญ ุฏูู:

"ูุฑ ุงุฒ ุงุฏูโุง ฺฉู ุฏุฑ ูุตู 5 ุชูุถุญ ุฏุงุฏู ุดุฏู ุจูุฏ ุฎูุดุด ุขูุฏ. ุงู ุงุฏู ุฏุฑุจุงุฑู ุณุงุฎุชุงุฑุฏู ููุทู ฺฉุณุจ ู ฺฉุงุฑ ุจู ุตูุฑุช ูุฌููุนูโุง ุงุฒ Aggregate ูุง DDD ุจูุฏ ฺฉู ุฑูุฏุงุฏูุง ุฏุงููู (Domain Events) ุฑุง ููุชุดุฑ ูโฺฉููุฏ. ุงู ูโุชูุงูุณุช ุชุตูุฑ ฺฉูุฏ ฺฉู ุงุณุชูุงุฏู ุงุฒ ุงู ุฑูุฏุงุฏูุง ุฏุฑ ูุนูุงุฑ ูฺฉุฑูุณุฑูุณ ุจุณุงุฑ ููุฏ ุฎูุงูุฏ ุจูุฏ.

ูุฑ ูุตุฏ ุฏุงุดุช ุงุฒ ุงู ุฑูุฏุงุฏูุง ุจุฑุง ูพุงุฏูโุณุงุฒ Saga ูุง ูุจุชู ุจุฑ Choreography ุงุณุชูุงุฏู ฺฉูุฏ (ฺฉู ุฏุฑ ูุตู 4 ุชูุถุญ ุฏุงุฏู ุดุฏู ุงุณุช). ุงู Saga ูุง ุจุฑุง ุญูุธ ุณุงุฒฺฏุงุฑ ุฏุงุฏูโูุง ุจู ุณุฑูุณโูุง ูุฎุชูู ุงุณุชูุงุฏู ูโุดููุฏ. ููฺูู ุงู ุงูุชุธุงุฑ ุฏุงุดุช ุงุฒ CQRS views ุงุณุชูุงุฏู ฺฉูุฏ (ฺฉู ุฏุฑ ูุตู 7 ุชูุถุญ ุฏุงุฏู ูโุดูุฏ) - ุงูโูุง ุฑูพูฺฉุงูุง ูุณุชูุฏ ฺฉู ุงูฺฉุงู ฺฉูุฆุฑโฺฏุฑ ฺฉุงุฑุขูุฏ ุฑุง ูุฑุงูู ูโฺฉููุฏ."

ููุงูู ฺฉูุฏ ุฏุฑ ุงู ูุชู:

DDD Aggregates: ูุฌููุนูโุง ุงุฒ ุงุดุงุก ูุฑุชุจุท ฺฉู ุจู ุนููุงู ฺฉ ูุงุญุฏ ุจุง ูู ฺฉุงุฑ ูโฺฉููุฏ

Domain Events: ุฑูุฏุงุฏูุง ฺฉู ุชุบุฑุงุช ููู ุฏุฑ ุฏุงููู ฺฉุณุจ ู ฺฉุงุฑ ุฑุง ูุดุงู ูโุฏููุฏ

Choreography-based Sagas: ุงูฺฏู ุจุฑุง ูุฏุฑุช ุชุฑุงฺฉูุดโูุง ุชูุฒุน ุดุฏู

CQRS views: ุงูฺฏู ุจุฑุง ุฌุฏุงุณุงุฒ ุนููุงุช ุฎูุงูุฏู ู ููุดุชู ุฏุงุฏูโูุง

ูโุฎูุงูุฏ ุฏุฑุจุงุฑู ูุฑ ฺฉุฏุงู ุงุฒ ุงู ููุงูู ุจุดุชุฑ ุชูุถุญ ุฏููุุจฺฏุฐุงุฑุฏ ุงู ูุชู ุฑุง ุจู ุจุฎุดโูุง ฺฉูุฏ ุชูุณู ฺฉูู ู ุจู ุฒุจุงู ุณุงุฏู ุชูุถุญ ุฏูู:

ุจููุ ุญุชูุงู. ุงุฌุงุฒู ุฏูุฏ ุจุง ุฌุฒุฆุงุช ุจุดุชุฑ ูุชู ุฑุง ุชุญูู ฺฉูู:

ฑ. ฺุงูุด ุงุตู ุฏุฑ ุณุณุชู ูุนู

ุฏุฑ ุณุณุชู ูุนู (ฺฉู ุฏุฑ ูุตู ต ุชูุถุญ ุฏุงุฏู ุดุฏู):

ูุฑ ูุชุฏ Aggregate ฺฉู state ุฑุง ุชุบุฑ ูโุฏูุฏุ ฺฉ ูุณุช ุงุฒ ุฑูุฏุงุฏูุง ุจุฑูโฺฏุฑุฏุงูุฏ

ุงู ุฑูุฏุงุฏูุง ุชูุณุท domain service ููุชุดุฑ ูโุดููุฏ

ุงูุง ูุดฺฉู ุงุตู ุงู ุงุณุช ฺฉู ุงู ููุทู ุงูุชุดุงุฑ ุฑูุฏุงุฏ ุจุตูุฑุช "bolt-on" (ุงุถุงูู ุดุฏู ุจุนุฏ ุงุฒ ุทุฑุงุญ ุงุตู) ุจู ููุทู ฺฉุณุจ ู ฺฉุงุฑ ูุชุตู ุดุฏู ุงุณุช

ุนู ุญุช ุงฺฏุฑ ุจุฑูุงููโููุณ ูุฑุงููุด ฺฉูุฏ ุฑูุฏุงุฏ ุฑุง ููุชุดุฑ ฺฉูุฏุ ฺฉุฏ ููฺูุงู ฺฉุงุฑ ูโฺฉูุฏ

ุงู ฺฉ ุฑุณฺฉ ุฌุฏ ุงุณุช ฺูู ููฺฉู ุงุณุช ุฏุฑ ุฌุงูุง ฺฉู ูุงุฒ ุจู ุงูุชุดุงุฑ ุฑูุฏุงุฏ ุงุณุชุ ุงู ฺฉุงุฑ ุงูุฌุงู ูุดูุฏ

ฒ. Event Sourcing ุจู ุนููุงู ุฑุงู ุญู

Event Sourcing ฺฉ ุฑูฺฉุฑุฏ ูุชูุงูุช ุงุณุช ฺฉู:

ุชูุงู ุชุบุฑุงุช state ฺฉ Aggregate ุฑุง ุจู ุตูุฑุช ุฏูุจุงููโุง ุงุฒ ุฑูุฏุงุฏูุง ุฐุฎุฑู ูโฺฉูุฏ

ุชุงุฑุฎฺู ฺฉุงูู ุชุบุฑุงุช ุฑุง ุญูุธ ูโฺฉูุฏ

ุจุฌุง ุงูฺฉู ุงูุชุดุงุฑ ุฑูุฏุงุฏ ฺฉ ุนููุงุช ุฌุงูุจ ุจุงุดุฏุ ุขู ุฑุง ุฏุฑ ููุจ ุณุณุชู ูุฑุงุฑ ูโุฏูุฏ

ุชุถูู ูโฺฉูุฏ ูุฑ ุชุบุฑ ุฏุฑ Aggregate ุญุชูุงู ุจุง ฺฉ ุฑูุฏุงุฏ ููุฑุงู ุงุณุช

ุจู ุงู ุชุฑุชุจุ ูุดฺฉู "ูุฑุงููุด ฺฉุฑุฏู ุงูุชุดุงุฑ ุฑูุฏุงุฏ" ุฑุง ุงุฒ ุจู ูโุจุฑุฏ

ณ. ุงููุช ุฏุฑ ูุนูุงุฑ ูฺฉุฑูุณุฑูุณ

Event Sourcing ุฏุฑ ูุนูุงุฑ ูฺฉุฑูุณุฑูุณ ุงููุช ูฺูโุง ุฏุงุฑุฏ ฺูู:

ุจุฑุง Saga ูุง ูุจุชู ุจุฑ Choreography (ฺฉู ุฏุฑ ูุตู ด ุชูุถุญ ุฏุงุฏู ุดุฏู) ูุงุฒ ุจู ุงูุชุดุงุฑ ูุทูุฆู ุฑูุฏุงุฏูุง ุฏุงุฑู

ุจุฑุง CQRS views (ฺฉู ุฏุฑ ูุตู ท ุชูุถุญ ุฏุงุฏู ูโุดูุฏ) ูุงุฒ ุจู ุชุงุฑุฎฺู ฺฉุงูู ุชุบุฑุงุช ุฏุงุฑู

ุฏุฑ ฺฉ ุณุณุชู ุชูุฒุน ุดุฏูุ ุฏุงุดุชู ุชุงุฑุฎฺู ุฏูู ุชุบุฑุงุช ุจุฑุง debugging ู audit ุจุณุงุฑ ููู ุงุณุช

ด. ุณุงุฎุชุงุฑ ุงุฏุงูู ูุตู

ูุตู ูุฑุงุฑ ุงุณุช ุงู ููุงุฑุฏ ุฑุง ูพูุดุด ุฏูุฏ:

ูฺฉุงูุฒู ุฏูู ฺฉุงุฑฺฉุฑุฏ Event Sourcing

ูุญูู ุงุณุชูุงุฏู ุงุฒ Event Sourcing ุฏุฑ ููุดุชู business logic

ูุนุฑู Event Store ู ูุญูู ุฐุฎุฑูโุณุงุฒ Aggregate ูุง ุจู ุตูุฑุช ุฏูุจุงูู ุฑูุฏุงุฏูุง

ุจุฑุฑุณ ุฏูู ูุฒุงุง ู ูุนุงุจ ุงู ุฑูฺฉุฑุฏ

ุฌุฒุฆุงุช ูพุงุฏูโุณุงุฒ Event Store

ูุนุฑู ฺฉ framework ุจุฑุง ูพุงุฏูโุณุงุฒ business logic ูุจุชู ุจุฑ Event Sourcing

ุงุฑุชุจุงุท Event Sourcing ุจุง Saga ูุง ู ูุญูู ุงุณุชูุงุฏู ุงุฒ ุขู ุจู ุนููุงู foundation ุจุฑุง Saga

ูโุฎูุงูุฏ ุจุง ฺฉ ูุซุงู ุนูู ุฏุฑ Node.js ูุดุงู ุฏูู ฺฉู ุงู ูุดฺฉูุงุช ฺุทูุฑ ุฏุฑ ุฏูุง ูุงูุน ุงุชูุงู ูโุงูุชูุฏ ู Event Sourcing ฺุทูุฑ ุขููุง ุฑุง ุญู ูโฺฉูุฏุ

ูฺฏุฑุงู ูุฑ ุฏุฑุจุงุฑู ุงูุชุดุงุฑ ุฑูุฏุงุฏูุง

ูุฑ ูฺฏุฑุงู ุจูุฏ ฺฉู ููุทู ุงูุชุดุงุฑ ุฑูุฏุงุฏูุง (event publishing) ููฺฉู ุงุณุช ูุณุชุนุฏ ุฎุทุง ุจุงุดุฏ. ุงุฒ ฺฉ ุทุฑูุ ุงู ููุทู ูุณุจุชุงู ุณุงุฏู ุงุณุช:

ูุฑ ูุชุฏ Aggregate ฺฉู ุญุงูุช ุขู ุฑุง ุชุบุฑ ูโุฏูุฏุ ูุณุช ุงุฒ ุฑูุฏุงุฏูุง ุฑุง ุจุฑูโฺฏุฑุฏุงูุฏ

ุณูพุณ ุณุฑูุณ ุฏุงููู ุงู ุฑูุฏุงุฏูุง ุฑุง ููุชุดุฑ ูโฺฉูุฏ

ุงูุง ูุดฺฉู ุงูุฌุงุณุช ฺฉู:

ููุทู ุงูุชุดุงุฑ ุฑูุฏุงุฏูุง ุจู ููุทู ฺฉุณุจ ู ฺฉุงุฑ "ูพฺ" ุดุฏู ุงุณุช

ุญุช ุงฺฏุฑ ุชูุณุนูโุฏููุฏู ูุฑุงููุด ฺฉูุฏ ุฑูุฏุงุฏ ุฑุง ููุชุดุฑ ฺฉูุฏุ ููุทู ฺฉุณุจ ู ฺฉุงุฑ ููฺูุงู ฺฉุงุฑ ูโฺฉูุฏ

ุงู ูโุชูุงูุฏ ููุจุน ุจุงฺฏโูุง ูุฑูโุงูุฒุงุฑ ุจุงุดุฏ

ุฑุงู ุญู: Event Sourcing

ูุฑ ุณุงูโูุง ูพุด ุจุง Event Sourcing ุขุดูุง ุดุฏู ุจูุฏ - ุฑูุด ุจุฑุง ููุดุชู ููุทู ฺฉุณุจ ู ฺฉุงุฑ ู ุฐุฎุฑูโุณุงุฒ ุงุดุงุก ุฏุงููู ฺฉู ุจุฑ ูพุงู ุฑูุฏุงุฏูุง ุงุณุช. ุงู ุฑูุด ูุฒุงุง ุฒุงุฏ ุฏุงุฑุฏุ ุงุฒ ุฌููู:

ุญูุธ ุชุงุฑุฎฺู ฺฉุงูู ุชุบุฑุงุช ฺฉ Aggregate

ุชุถูู ุงูุชุดุงุฑ ุฑูุฏุงุฏ ููฺฏุงู ุงุฌุงุฏ ุง ุจูโุฑูุฒุฑุณุงู Aggregate

ุญุฐู ฺฉ ููุจุน ุฎุทุง ุจุฑูุงููโููุณ

ุณุงุฎุชุงุฑ ูุตู

ุงู ูุตู ุดุงูู ุงู ููุงุฑุฏ ุงุณุช:

ูุญูู ฺฉุงุฑฺฉุฑุฏ Event Sourcing

ฺฺฏููฺฏ ุงุณุชูุงุฏู ุงุฒ ุขู ุจุฑุง ููุดุชู ููุทู ฺฉุณุจ ู ฺฉุงุฑ

ูุญูู ุฐุฎุฑูโุณุงุฒ ูุฑ Aggregate ุจู ุตูุฑุช ุฏูุจุงููโุง ุงุฒ ุฑูุฏุงุฏูุง ุฏุฑ Event Store

ูุฒุงุง ู ูุนุงุจ Event Sourcing

ูุญูู ูพุงุฏูโุณุงุฒ Event Store

ูุนุฑู ฺฉ ูุฑูโูุฑฺฉ ุณุงุฏู ุจุฑุง ููุดุชู ููุทู ฺฉุณุจ ู ฺฉุงุฑ ูุจุชู ุจุฑ Event Sourcing

ฺฺฏููฺฏ ุงุณุชูุงุฏู ุงุฒ Event Sourcing ุจู ุนููุงู ูพุงูโุง ุจุฑุง ูพุงุฏูโุณุงุฒ Saga ูุง

ุขุง ูโุฎูุงูุฏ ุฏุฑุจุงุฑู ูุฑ ฺฉุฏุงู ุงุฒ ุงู ููุงูู ุฌุฒุฆุงุช ุจุดุชุฑ ุจุฏุงูุฏุ ูโุชูุงูู ฺฉ ูุซุงู ุณุงุฏู ุจุง Node.js ุจุฒูู ุชุง ุงู ููุงูู ููููุณโุชุฑ ุดููุฏ.

ุจููุ ุงุฌุงุฒู ุฏูุฏ ุงู ุจุฎุด ููู ุฑุง ุจุง ุฌุฒุฆุงุช ุชูุถุญ ุฏูู:

ุชูุณุนู ููุทู ฺฉุณุจ ู ฺฉุงุฑ ุจุง ุงุณุชูุงุฏู ุงุฒ Event Sourcing

ุชุนุฑู Event Sourcing

Event Sourcing ฺฉ ุฑูฺฉุฑุฏ ูุชูุงูุช ุจุฑุง:

ุณุงุฎุชุงุฑุฏู ููุทู ฺฉุณุจ ู ฺฉุงุฑ

ุฐุฎุฑูโุณุงุฒ Aggregate ูุง

ุฏุฑ ุงู ุฑูุด:

ูุฑ Aggregate ุจู ุตูุฑุช ุฏูุจุงููโุง ุงุฒ ุฑูุฏุงุฏูุง ุฐุฎุฑู ูโุดูุฏ

ูุฑ ุฑูุฏุงุฏ ูุดุงูโุฏููุฏู ฺฉ ุชุบุฑ ูุถุนุช ุฏุฑ Aggregate ุงุณุช

ุจุฑูุงูู ุจุฑุง ุจุงุฒุณุงุฒ ูุถุนุช ูุนู ฺฉ Aggregateุ ุฑูุฏุงุฏูุง ุฑุง ุจู ุชุฑุชุจ ูพุฎุด ูโฺฉูุฏ (replay events)

ูุฒุงุง ฺฉูุฏ

ุญูุธ ุชุงุฑุฎฺู Aggregate ูุง:

ุจุฑุง ุงูุฏุงู ุญุณุงุจุฑุณ (auditing)

ุจุฑุง ุงูุฏุงู ูุงููู ู ูุธุงุฑุช (regulatory)

ุงูุชุดุงุฑ ูุทูุฆู Domain Events:

ุงู ูฺฺฏ ุฏุฑ ูุนูุงุฑ ูฺฉุฑูุณุฑูุณ ุจุณุงุฑ ููุฏ ุงุณุช

ุชุถูู ูโฺฉูุฏ ูฺ ุฑูุฏุงุฏ ููู ุงุฒ ุฏุณุช ููโุฑูุฏ

ฺุงูุดโูุง ู ูุนุงุจ

ูุงุฒ ุจู ุงุฏฺฏุฑ:

ฺูู ุฑูุด ูุชูุงูุช ุจุฑุง ููุดุชู ููุทู ฺฉุณุจ ู ฺฉุงุฑ ุงุณุช

ูุงุฒ ุจู ุชุบุฑ ุฏุฏฺฏุงู ุฏุฑ ุทุฑุงุญ ุณุณุชู ุฏุงุฑุฏ

ุฏุดูุงุฑ ุฏุฑ Query:

ฺฉูุฆุฑ ุฒุฏู ุฑู event store ูุนูููุงู ุฏุดูุงุฑ ุงุณุช

ูุงุฒ ุจู ุงุณุชูุงุฏู ุงุฒ ุงูฺฏู CQRS ุฏุงุฑุฏ (ฺฉู ุฏุฑ ูุตู 7 ุชูุถุญ ุฏุงุฏู ูโุดูุฏ)

ุณุงุฎุชุงุฑ ุงุฏุงูู ุจุฎุด

ุงู ุจุฎุด ูุฑุงุฑ ุงุณุช ุดุงูู:

ุจุฑุฑุณ ูุญุฏูุฏุชโูุง ุฑูุดโูุง ุณูุช persistence

ุชูุถุญ ุฏูู Event Sourcing ู ูุญูู ุบูุจู ุจุฑ ุงู ูุญุฏูุฏุชโูุง

ูพุงุฏูโุณุงุฒ ุนูู Order aggregate ุจุง ุงุณุชูุงุฏู ุงุฒ Event Sourcing

ุจุฑุฑุณ ุฌุงูุน ูุฒุงุง ู ูุนุงุจ Event Sourcing

ูโุฎูุงูุฏ:

ุจุง ฺฉ ูุซุงู ุนูู ูุดุงู ุฏูู ูุญุฏูุฏุชโูุง ุฑูุดโูุง ุณูุช ฺุณุชุ

ฺฉ ููููู ุณุงุฏู ุงุฒ Order aggregate ุจุง Event Sourcing ุฏุฑ Node.js ูพุงุฏูโุณุงุฒ ฺฉููุ

ุง ุฏุฑุจุงุฑู ฺฉ ุงุฒ ุงู ููุงูู ุนููโุชุฑ ุตุญุจุช ฺฉููุ

ุจุง ุฌุฒุฆุงุช ุฏุฑ ููุฑุฏ ูุญุฏูุฏุชโูุง ุฑูุด ุณูุช persistence ุตุญุจุช ฺฉูู.

ุงูฺฏู: Event Sourcing

ุชุนุฑู ุงุตู: ุฐุฎุฑูโุณุงุฒ ฺฉ Aggregate ุจู ุตูุฑุช ุฏูุจุงููโุง ุงุฒ domain event ูุง ฺฉู ูุดุงูโุฏููุฏู ุชุบุฑุงุช ูุถุนุช ูุณุชูุฏ.

ูุดฺฉูุงุช ุฑูุด ุณูุช Persistence

ุฏุฑ ุฑูุด ุณูุชุ ฺฉ ูฺฏุงุดุช (mapping) ูุณุชูู ุจู:

ฺฉูุงุณโูุง ุจู ุฌุฏููโูุง ุฏุชุงุจุณ

ููุฏูุง ฺฉูุงุณโูุง ุจู ุณุชููโูุง ุฌุฏูู

ูููููโูุง (instances) ฺฉูุงุณโูุง ุจู ุณุทุฑูุง ุฌุฏูู

ุจุฑุง ูุซุงู ุฏุฑ ููุฑุฏ Order aggregate (ฺฉู ุฏุฑ ูุตู 5 ุชูุถุญ ุฏุงุฏู ุดุฏู):

Order ุจู ุฌุฏูู ORDER ูฺฏุงุดุช ูโุดูุฏ

OrderLineItems ุจู ุฌุฏูู ORDER_LINE_ITEM ูฺฏุงุดุช ูโุดูุฏ

ุจฺฏุฐุงุฑุฏ ุจุฑุง ุฏุฑฺฉ ุจูุชุฑ ุงู ุณุงุฎุชุงุฑุ ฺฉ ุฏุงฺฏุฑุงู ุชุฑุณู ฺฉูู:

ูโุฎูุงูุฏ ุงุฏุงูู ูุชู ุฑุง ุจุฎูุงูู ุชุง ุจุจูู ุฏููุงู ฺู ูุดฺฉูุงุช ุฏุฑ ุงู ุฑูุด ุณูุช ูุฌูุฏ ุฏุงุฑุฏุ

ุง ูโุฎูุงูุฏ ฺฉ ูุซุงู ุนูู ุจุง Node.js ูุดุงู ุฏูู ฺฉู ุงู ูุญุฏูุฏุชโูุง ุฏุฑ ุนูู ฺฺฏููู ุฎูุฏุดุงู ุฑุง ูุดุงู ูโุฏููุฏุ

ุจุงุฏ ูุดฺฉูุงุช ุฑูุด ุณูุช persistence ุฑุง ุจุง ุฌุฒุฆุงุช ุจุฑุฑุณ ฺฉูู:

ูุญูู ุฐุฎุฑูโุณุงุฒ ุณูุช

ุฏุฑ ุงู ุฑูุด:

ฺฉ ููููู Order ุจู ุตูุฑุช ุณุทุฑูุง ุฏุฑ ุฌุฏุงูู ORDER ู ORDER_LINE_ITEM ุฐุฎุฑู ูโุดูุฏ

ุงู ฺฉุงุฑ ูุนูููุงู ุจุง ุงุณุชูุงุฏู ุงุฒ:

ฺฉ ORM framework (ูุซู JPA)

ุง ฺฉ framework ุณุทุญ ูพุงูโุชุฑ (ูุซู MyBATIS) ุงูุฌุงู ูโุดูุฏ

ูุดฺฉูุงุช ู ูุญุฏูุฏุชโูุง ุงุตู

ุจุง ุงูฺฉู ุงู ุฑูุด ุฏุฑ ุงฺฉุซุฑ ุจุฑูุงููโูุง ุณุงุฒูุงู ุงุณุชูุงุฏู ูโุดูุฏุ ุงูุง ฺูุงุฑ ูุดฺฉู ุงุตู ุฏุงุฑุฏ:

Object-Relational impedance mismatch (ูุงููุงููฺฏ ุจู ุดุกฺฏุฑุง ู ุฑุงุจุทูโุง)

ุนุฏู ูุฌูุฏ ุชุงุฑุฎฺู Aggregate

ูพุงุฏูโุณุงุฒ audit logging ุฎุณุชูโฺฉููุฏู ู ูุณุชุนุฏ ุฎุทุง

ุงุชุตุงู ุณุทุญ (bolt-on) ููุทู ุงูุชุดุงุฑ ุฑูุฏุงุฏ ุจู ููุทู ฺฉุณุจ ู ฺฉุงุฑ

ุชุดุฑุญ ูุดฺฉู Object-Relational Impedance Mismatch

ุงู ฺฉ ูุดฺฉู ูุฏู ู ุงุณุงุณ ุงุณุช ฺฉู ุดุงูู:

ูุงููุงููฺฏ ููููู ุจู ุณุงุฎุชุงุฑ ุฌุฏูู (schema ุฑุงุจุทูโุง) ู ุณุงุฎุชุงุฑ ฺฏุฑุงูโูุงููุฏ ฺฉ domain model ุบู

ูพฺุฏฺฏ ุฏุฑ ูฺฏุงุดุช ุฑูุงุจุท ูพฺุฏู domain model ุจู ุฏุชุงุจุณ ุฑุงุจุทูโุง

ููููู ุจุญุซโูุง ฺุงูุด

Ted Neward ุขู ุฑุง "ูุชูุงู ุนููู ฺฉุงููพูุชุฑ" ูุงูุฏู

ุจุง ุงูฺฉู frameworks ูุซู Hibernate ุฏุฑ ุจุฑุฎ ููุงุฑุฏ ูููู ุจูุฏูโุงูุฏ (ูุฎุตูุตุงู ููุช schema ุฏุชุงุจุณ ุงุฒ ูุฏู ุดุกฺฏุฑุง ูุดุชู ูโุดูุฏ)

ุงูุง ูุดฺฉู ุนููโุชุฑ ุงุฒ ูุญุฏูุฏุชโูุง ฺฉ ORM framework ุฎุงุต ุงุณุช

ูโุฎูุงูุฏ:

ฺฉ ูุซุงู ุนูู ุงุฒ ุงู ูุงููุงููฺฏ ุฑุง ุฏุฑ Node.js ูุดุงู ุฏููุ

ุง ุจู ุณุฑุงุบ ุจุฑุฑุณ ุณุงุฑ ูุดฺฉูุงุช (ูุซู ุนุฏู ูุฌูุฏ ุชุงุฑุฎฺู ุง ูุดฺฉูุงุช audit logging) ุจุฑููุ

ุจุงุฏ ุจูู ูุดฺฉูุงุช ุงุตู ุฑูุด ุณูุช persistence ุฑุง ุจุฑุฑุณ ฺฉูู:

ฒ. ุนุฏู ูุฌูุฏ ุชุงุฑุฎฺู Aggregate

ูุดฺฉู:

ููุท ูุถุนุช ูุนู aggregate ุฐุฎุฑู ูโุดูุฏ

ูพุณ ุงุฒ ูุฑ ุจูโุฑูุฒุฑุณุงูุ ูุถุนุช ูุจู ุงุฒ ุฏุณุช ูโุฑูุฏ

ฺุงูุดโูุง ูพุงุฏูโุณุงุฒ ุฏุณุช ุชุงุฑุฎฺู:

ูุงุฒ ุจู ุตุฑู ุฒูุงู ุฒุงุฏ

ุชฺฉุฑุงุฑ ฺฉุฏ ฺฉู ุจุงุฏ ุจุง ููุทู ฺฉุณุจ ู ฺฉุงุฑ ููฺฏุงู ุจุงุดุฏ

ุฑุณฺฉ ูุงููุงููฺฏ ุจู ุชุงุฑุฎฺู ู ูุถุนุช ูุงูุน

ณ. ูุดฺฉูุงุช Audit Logging

ููุงุฑุฏ ูุงุฒ ุจู Audit:

ุฑุฏุงุจ ุชุบุฑุงุช ุงูุฌุงู ุดุฏู ุชูุณุท ฺฉุงุฑุจุฑุงู

ุงูุฒุงูุงุช ุงููุช ู ูุงููู

ูุงุฒูุง ฺฉุณุจ ู ฺฉุงุฑ (ูุซู JIRA ู Asana ฺฉู ุชุงุฑุฎฺู ุชุบุฑุงุช task ูุง ุฑุง ููุงุด ูโุฏููุฏ)

ฺุงูุดโูุง:

ูพุงุฏูโุณุงุฒ ููุชโฺฏุฑ

ุงูฺฉุงู ูุงฺฏุฑุง ฺฉุฏ audit logging ุงุฒ ููุทู ฺฉุณุจ ู ฺฉุงุฑ

ุงุญุชูุงู ุจุฑูุฒ ุจุงฺฏ ุฏุฑ ุงุซุฑ ุงู ูุงฺฏุฑุง

ด. ูุดฺฉู Event Publishing

ุฏุฑ ุฑูุด ุณูุช:

ูุนูููุงู ูพุดุชุจุงู ุฐุงุช ุงุฒ ุงูุชุดุงุฑ domain events ูุฌูุฏ ูุฏุงุฑุฏ

ุงู events (ฺฉู ุฏุฑ ูุตู ต ุชูุถุญ ุฏุงุฏู ุดุฏูุฏ) ุจุฑุง:

ููฺฏุงูโุณุงุฒ ุฏุงุฏูโูุง

ุงุฑุณุงู notification ูุง ุฏุฑ ูุนูุงุฑ ูฺฉุฑูุณุฑูุณ ุถุฑูุฑ ูุณุชูุฏ

ูุญุฏูุฏุชโูุง ูุนู:

ุจุฑุฎ ORM ูุง (ูุซู Hibernate) callback ูุง ุจุฑุง ุชุบุฑุงุช ุฏุงุฑูุฏ

ุงูุง ูพุดุชุจุงู ุฎูุฏฺฉุงุฑ ุจุฑุง ุงูุชุดุงุฑ ูพุงูโูุง ุจู ุนููุงู ุจุฎุด ุงุฒ ุชุฑุงฺฉูุด ูุฌูุฏ ูุฏุงุฑุฏ

ุชูุณุนูโุฏููุฏฺฏุงู ุจุงุฏ ููุทู ุชููุฏ event ุฑุง ุจู ุตูุฑุช ุฌุฏุงฺฏุงูู ุงุถุงูู ฺฉููุฏ

ุฑุณฺฉ ูุงููุงููฺฏ ุจุง ููุทู ฺฉุณุจ ู ฺฉุงุฑ

ุจุงุฏ ฺฉ ูุซุงู ุนูู ุจุง Node.js ุจุฒูู ฺฉู ุงู ูุดฺฉูุงุช ุฑุง ูุดุงู ุฏูุฏ:

ุฏุฑ ุงู ฺฉุฏ ูโุจูู ฺฉู:

ุญูุธ ุชุงุฑุฎฺู ูุฌูุฏ ูุฏุงุฑุฏ

Audit logging ุจุงุฏ ุฏุณุช ุงุถุงูู ุดูุฏ

ุงูุชุดุงุฑ event ููฺฉู ุงุณุช ูุฑุงููุด ุดูุฏ

ูฺ ุชุถูู ุจุฑุง ููฺฏุงูโุณุงุฒ ุงู ููุงุฑุฏ ุจุง ููุทู ุงุตู ูุณุช

ุฑุงู ุญู ุงู ูุดฺฉูุงุช Event Sourcing ุงุณุช ฺฉู ุฏุฑ ุงุฏุงูู ุจู ุขู ูโูพุฑุฏุงุฒู. ูโุฎูุงูุฏ ุงุจุชุฏุง ุฏุฑุจุงุฑู Event Sourcing ู ูุญูู ุญู ุงู ูุดฺฉูุงุช ุตุญุจุช ฺฉููุ

ุงุฌุงุฒู ุฏูุฏ ููููู Event Sourcing ุฑุง ุจุง ุฌุฒุฆุงุช ุจุฑุฑุณ ฺฉูู:

ูุฑูุฑ ฺฉู Event Sourcing

ุชุนุฑู ุงุตู

Event Sourcing ฺฉ ุชฺฉูฺฉ event-ูุญูุฑ ุงุณุช ฺฉู ุจุฑุง:

ูพุงุฏูโุณุงุฒ ููุทู ฺฉุณุจ ู ฺฉุงุฑ

ุฐุฎุฑูโุณุงุฒ aggregate ูุง ุงุณุชูุงุฏู ูโุดูุฏ

ูุญูู ุฐุฎุฑูโุณุงุฒ ุฏุฑ Event Sourcing

ุจุฑุฎูุงู ุฑูุด ุณูุช (ฺฉู ุฏุฑ ุจุฎุด 6.1.1 ุจุฑุฑุณ ุดุฏ):

Aggregate ุจู ุตูุฑุช ฺฉ ุณุฑ ุฑูุฏุงุฏ ุฏุฑ ุฏุชุงุจุณ ุฐุฎุฑู ูโุดูุฏ

ูุฑ ุฑูุฏุงุฏ ูุดุงูโุฏููุฏู ฺฉ ุชุบุฑ ูุถุนุช ุฏุฑ aggregate ุงุณุช

ููุทู ฺฉุณุจ ู ฺฉุงุฑ aggregate ุญูู ุชููุฏ ู ูุตุฑู ุงู ุฑูุฏุงุฏูุง ุณุงุฎุชุงุฑุฏู ูโุดูุฏ

ุจฺฏุฐุงุฑุฏ ุงู ุชูุงูุช ุฑุง ุจุง ฺฉ ุฏุงฺฏุฑุงู ูุดุงู ุฏูู:

ูุซุงู ุจุง Order Aggregate

ุฏุฑ ููุฑุฏ Order aggregate:

ุฑูุด ุณูุช: ูุฑ Order ุจู ุตูุฑุช ฺฉ ุณุทุฑ ุฏุฑ ุฌุฏูู ORDER ุฐุฎุฑู ูโุดูุฏ

Event Sourcing: ูุฑ Order ุจู ุตูุฑุช ฺูุฏู ุฑูุฏุงุฏ ุฏุฑ ุฌุฏูู EVENTS ุฐุฎุฑู ูโุดูุฏุ ูุงููุฏ:

Order Created

Order Approved

Order Shipped

ู ุบุฑู

ุจุงุฏ ฺฉ ูุซุงู ุนูู ุจุง Node.js ุงุฒ ุงู ุฑูฺฉุฑุฏ ุฑุง ุจุจูู:

ุฏุฑ ุงู ูพุงุฏูโุณุงุฒ ูุจุชู ุจุฑ Event Sourcing ูโุจูู ฺฉู:

ูุฑ ุชุบุฑ ูุถุนุช ุจู ุตูุฑุช ฺฉ event ุฐุฎุฑู ูโุดูุฏ

ูุถุนุช ูุนู ุงุฒ ูพุฎุด ูุฌุฏุฏ (replay) events ุณุงุฎุชู ูโุดูุฏ

ุชุงุฑุฎฺู ฺฉุงูู ุชุบุฑุงุช ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุญูุธ ูโุดูุฏ

ุงูฺฉุงู audit logging ู event publishing ุจู ุตูุฑุช ุฐุงุช ูุฌูุฏ ุฏุงุฑุฏ

ูโุฎูุงูุฏ ุฏุฑ ููุฑุฏ ุฌุฒุฆุงุช ุจุดุชุฑ ุงุฒ ุงู ูพุงุฏูโุณุงุฒ ุตุญุจุช ฺฉููุ ุง ุจู ุณุฑุงุบ ุงุฏุงูู ูุชู ุจุฑููุ

ุจููุ ุงุฌุงุฒู ุฏูุฏ ูุญูู ุจุงุฒุณุงุฒ ฺฉ aggregate ุงุฒ ุฑูุฏุงุฏูุง ุฑุง ุจุง ุฌุฒุฆุงุช ุจุฑุฑุณ ฺฉูู:

ูุฑุงุญู ุจุงุฒุณุงุฒ Aggregate ุงุฒ Event Store

ุงูฺฏูุฑุชู ุงุตู

ุฒูุงู ฺฉู ุจุฑูุงูู ูุงุฒ ุจู ุจุงุฑฺฏุฐุงุฑ ฺฉ aggregate ุฏุงุฑุฏุ ุณู ูุฑุญูู ุงุตู ุงูุฌุงู ูโุดูุฏ:

ุจุงุฑฺฏุฑ ุชูุงู ุฑูุฏุงุฏูุง ูุฑุจูุท ุจู aggregate ุงุฒ ุฌุฏูู EVENTS

ุงุฌุงุฏ ฺฉ ููููู ุฌุฏุฏ ุงุฒ aggregate ุจุง ุงุณุชูุงุฏู ุงุฒ constructor ูพุดโูุฑุถ

ูพูุงุด ุฑูุฏุงุฏูุง ู ุงุนูุงู ูุฑ ฺฉุฏุงู ุจุง ูุฑุงุฎูุงู ูุชุฏ apply()

ุจุงุฏ ุงู ูฺฉุงูุฒู ุฑุง ุจุง Node.js ูพุงุฏูโุณุงุฒ ฺฉูู:

ูฺฉุงุช ููู ุฏุฑ ุงู ูพุงุฏูโุณุงุฒ:

Fold/Reduce ุนููุงุช:

ููุงูุทูุฑ ฺฉู ุฏุฑ ูุชู ุงุดุงุฑู ุดุฏูุ ุงู ูุฑุขูุฏ ูุนุงุฏู ฺฉ ุนููุงุช fold ุง reduce ุฏุฑ ุจุฑูุงููโููุณ ุชุงุจุน ุงุณุช

ูุถุนุช ููุง ุงุฒ ุงุนูุงู ูุชูุงู ุฑูุฏุงุฏูุง ุฑู ุญุงูุช ุงููู ุจุฏุณุช ูโุขุฏ

ูุฒุงุง ุงู ุฑูฺฉุฑุฏ:

Immutability: ูุฑ ุชุบุฑ ูุถุนุช ุจู ุตูุฑุช ฺฉ ุฑูุฏุงุฏ ุฌุฏุฏ ุซุจุช ูโุดูุฏ

Traceability: ุงูฺฉุงู ุฑุฏุงุจ ุฏูู ุชูุงู ุชุบุฑุงุช

Consistency: ุชุถูู ุณุงุฒฺฏุงุฑ ุจู ุฑูุฏุงุฏูุง ู ูุถุนุช

ูฺฉุงุช ูพุงุฏูโุณุงุฒ:

ูุชุฏ applyEvent ุจุงุฏ pure ุจุงุดุฏ (ุจุฑุง ููุงู ูุฑูุฏ ููุดู ููุงู ุฎุฑูุฌ ุฑุง ุชููุฏ ฺฉูุฏ)

ุฑูุฏุงุฏูุง ุจุงุฏ immutable ุจุงุดูุฏ

ุชุฑุชุจ ุฑูุฏุงุฏูุง ุงููุช ุฏุงุฑุฏ

ูโุฎูุงูุฏ:

ุฏุฑุจุงุฑู ุฌุฒุฆุงุช ุจุดุชุฑ ุงุฒ ูพุงุฏูโุณุงุฒ ุตุญุจุช ฺฉููุ

ุจู ุจุฑุฑุณ ูุฒุงุง ู ูุนุงุจ ุงู ุฑูฺฉุฑุฏ ุจูพุฑุฏุงุฒูุ

ุง ุจู ุณุฑุงุบ ุงุฏุงูู ูุชู ุจุฑููุ

ุฏู ุฌูุจู ููู ุงุฒ ุฑูุฏุงุฏูุง ุฏุฑ Event Sourcing ุฑุง ุจุฑุฑุณ ูโฺฉูู:

ุงุฌุงุฒู ุฏูุฏ ุงู ุจุฎุด ููู ุฑุง ฺฉู ุฏุฑุจุงุฑู ูุชุฏูุง Aggregate ุฏุฑ Event Sourcing ุงุณุชุ ุจุง ุฌุฒุฆุงุช ุจุฑุฑุณ ฺฉูู:

ูุชุฏูุง Aggregate ุฏุฑ Event Sourcing

ุจุงุฏ ุงุจุชุฏุง ฺฉ ุฏุงฺฏุฑุงู ุจุฑุง ูุดุงู ุฏุงุฏู ุงู ุฌุฑุงู ุจุณุงุฒู:

ููุงุณู ุฑูุด ุณูุช ู Event Sourcing

ุจุงุฏ ุงู ุชูุงูุช ุฑุง ุจุง ฺฉุฏ ูุดุงู ุฏูู:

ุชูุงูุชโูุง ฺฉูุฏ

ุฑูุด ุณูุช:

ูุชุฏูุง command ูุณุชููุงู state ุฑุง ุชุบุฑ ูโุฏููุฏ

validation ุงูุฌุงู ูโุดูุฏ ู ุณูพุณ ููุฏูุง ุขูพุฏุช ูโุดููุฏ

ูฺ ุฑูุฏุงุฏ ุชููุฏ ููโุดูุฏ

ุฑูุด Event Sourcing:

ูุชุฏูุง command ุฑูุฏุงุฏ ุชููุฏ ูโฺฉููุฏ

validation ููฺูุงู ุงูุฌุงู ูโุดูุฏ

ุจุฌุง ุชุบุฑ ูุณุชูู stateุ ุฑูุฏุงุฏ ุชููุฏ ูโุดูุฏ

ุฑูุฏุงุฏ ูู ุฏุฑ ุฏุชุงุจุณ ุฐุฎุฑู ูโุดูุฏ ู ูู ุฑู aggregate ุงุนูุงู ูโุดูุฏ

ูุฒุงุง ุฑูฺฉุฑุฏ Event Sourcing:

ุชุงุฑุฎฺู ฺฉุงูู ุชุบุฑุงุช

ุงูฺฉุงู ุจุงุฒุณุงุฒ state ุฏุฑ ูุฑ ููุทู ุงุฒ ุฒูุงู

ุฌุฏุงุณุงุฒ ุชููุฏ ุฑูุฏุงุฏ ุงุฒ ุงุนูุงู ุขู

ุชุถูู ุงูุชุดุงุฑ ุฑูุฏุงุฏ ุจุฑุง ูุฑ ุชุบุฑ

ุขุง ูโุฎูุงูุฏ:

ุฌุฒุฆุงุช ุจุดุชุฑ ุงุฒ ูพุงุฏูโุณุงุฒ ุฑุง ุจุฑุฑุณ ฺฉููุ

ุฏุฑุจุงุฑู ูุญูู ุฐุฎุฑูโุณุงุฒ ุงู ุฑูุฏุงุฏูุง ุตุญุจุช ฺฉููุ

ุจู ุณุฑุงุบ ุงุฏุงูู ูุชู ุจุฑููุ

ฑ. ุฑูุฏุงุฏูุง ูุดุงูโุฏููุฏู ุชุบุฑุงุช ูุถุนุช

ุชูุงูุช ุจุง Domain Events ูุนููู (ูุตู ต):

Domain Events ูุนููู:

ุจุฑุง ุงุทูุงุนโุฑุณุงู ุจู subscribers

ูโุชูุงููุฏ ุญุฏุงูู ุจุงุดูุฏ (ูุซูุงู ููุท ุดุงูู aggregate ID)

ุง ุบูโุดุฏู ุจุงุดูุฏ (ุดุงูู ุฏุงุฏูโูุง ููุฏ ุจุฑุง ูุตุฑูโฺฉููุฏู)

ุณุงุฎุชุงุฑ ุจุฑ ุงุณุงุณ ูุงุฒ ูุตุฑูโฺฉููุฏฺฏุงู

Events ุฏุฑ Event Sourcing:

ุงุฌุจุงุฑ ุจุฑุง ูุฑ ุชุบุฑ ูุถุนุช

ุณุงุฎุชุงุฑ ุจุฑ ุงุณุงุณ ูุงุฒ ุฎูุฏ aggregate

ุจุงุฏ ุชูุงู ุฏุงุฏูโูุง ูุงุฒู ุจุฑุง state transition ุฑุง ุฏุงุดุชู ุจุงุดูุฏ

ุจุงุฏ ุงู ุชูุงูุช ุฑุง ุจุง ฺฉ ูุซุงู ุนูู ูุดุงู ุฏูู:

ฒ. ุฑุงุจุทู Event ูุง ุจุง State Transitions



ุฏู ููุน ุงุตู Event ุงุฒ ูุธุฑ ุฏุงุฏู:

Events ุจุง ุฏุงุฏู ฺฉู:

ูุซู OrderShipped

ููุท ูุดุงูโุฏููุฏู ุชุบุฑ ูุถุนุช ูุณุชูุฏ

apply() ููุท ฺฉ ููุฏ ุฑุง ุชุบุฑ ูโุฏูุฏ (ูุซูุงู status)

Events ุจุง ุฏุงุฏู ุฒุงุฏ:

ูุซู OrderCreated

ุดุงูู ุชูุงู ุฏุงุฏูโูุง ูุงุฒู ุจุฑุง initialize ฺฉุฑุฏู aggregate

ููโุชูุงููุฏ minimal ุจุงุดูุฏ ฺูู ุจุฑุง ุจุงุฒุณุงุฒ state ูุงุฒ ุจู ุชูุงู ุงุทูุงุนุงุช ุงุณุช

ูฺฉุงุช ฺฉูุฏ:

ูุฑ event ุจุงุฏ ุฏุงุฏู ฺฉุงู ุจุฑุง ุงูุฌุงู state transition ุฑุง ุฏุงุดุชู ุจุงุดุฏ

ุงฺฏุฑ state ูุนู S ุงุณุช ู ูโุฎูุงูู ุจู S' ุจุฑุณูุ event E ุจุงุฏ ุทูุฑ ุจุงุดุฏ ฺฉู:

S' = S.apply(E)

ุจุฑุฎูุงู Domain Events ูุนูููุ ููโุชูุงูู events ุฑุง minimal ูฺฏู ุฏุงุฑู

ุขุง ูโุฎูุงูุฏ:

ูุซุงู ุฏฺฏุฑ ุงุฒ state transition ุจุจููุ

ุฏุฑุจุงุฑู ฺุงูุดโูุง ุงู ุฑูฺฉุฑุฏ ุตุญุจุช ฺฉููุ

ุจู ุณุฑุงุบ ุงุฏุงูู ูุชู ุจุฑููุ

ุจุงุฏ ูุญูู ุจุงุฒุณุงุฒ ููุทู ฺฉุณุจ ู ฺฉุงุฑ ุฏุฑ Event Sourcing ุฑุง ุจุง ุฌุฒุฆุงุช ุจุฑุฑุณ ฺฉูู:

ุจุงุฒุณุงุฒ ูุชุฏูุง Command ุฏุฑ Event Sourcing

ฺฉ ูุชุฏ command ุจู ุฏู ุฏุณุชู ูุชุฏ ุชูุณู ูโุดูุฏ:

ูุชุฏ process() (ุจุฑุง ุฏุณุชูุฑุงุช):

ูุฑูุฏ: Command object (ุฏุฑุฎูุงุณุช ุชุบุฑ)

ูุธุงู:

ุงุนุชุจุงุฑุณูุฌ ูพุงุฑุงูุชุฑูุง

ุชุนู ุชุบุฑุงุช ููุฑุฏ ูุงุฒ

ุชููุฏ ูุณุช ุฑูุฏุงุฏูุง

ุฎุฑูุฌ: ูุณุช ุฑูุฏุงุฏูุง

ูฺฉุชู: state ุฑุง ุชุบุฑ ููโุฏูุฏ

ูุชุฏ apply() (ุจุฑุง ุฑูุฏุงุฏูุง):

ูุฑูุฏ: Event object

ูุธูู: ุจูโุฑูุฒุฑุณุงู state ุจุฑ ุงุณุงุณ ุฑูุฏุงุฏ

ูฺฉุชู: ููโุชูุงูุฏ ุดฺฉุณุช ุจุฎูุฑุฏ ฺูู ุฑูุฏุงุฏ ูุดุงูโุฏููุฏู ุชุบุฑ ุงุณุช ฺฉู ูุจูุงู ุชุฃุฏ ุดุฏู

ุจุงุฏ ุงู ููููู ุฑุง ุจุง ฺฉ ูุซุงู ุนูู ุฏุฑ Node.js ูุดุงู ุฏูู:

ูฺฉุงุช ฺฉูุฏ ุฏุฑ ูพุงุฏูโุณุงุฒ

ุฌุฏุงุณุงุฒ ูุณุฆููุชโูุง:

process(): ููุทู ุงุนุชุจุงุฑุณูุฌ ู ุชุตููโฺฏุฑ

apply(): ููุทู ุจูโุฑูุฒุฑุณุงู state

ุงูฺฏู Event Sourcing:

Command -> process() -> Events -> apply() -> State Change

ูุฒุงุง ุงู ุฑูฺฉุฑุฏ:

ุฌุฏุงุณุงุฒ ุชูุฒ validation ุงุฒ state changes

ุงูฺฉุงู audit ู logging ุจูุชุฑ

ูุงุจูุช ุชุณุช ุจูุชุฑ (ูโุชูุงู process ู apply ุฑุง ุฌุฏุงฺฏุงูู ุชุณุช ฺฉุฑุฏ)

ุงูฺฉุงู replay events ุจุฑุง ุจุงุฒุณุงุฒ state

ูฺฉุงุช ูพุงุฏูโุณุงุฒ:

process() ูโุชูุงูุฏ exception ูพุฑุชุงุจ ฺฉูุฏ

apply() ูุจุงุฏ exception ูพุฑุชุงุจ ฺฉูุฏ

ูุฑ event type ฺฉ apply() method ูุฎุตูุต ุจู ุฎูุฏ ุฏุงุฑุฏ

ุขุง ูโุฎูุงูุฏ:

ูุซุงู ุฏฺฏุฑ ุงุฒ ฺฉุงุฑุจุฑุฏ ุงู ุงูฺฏู ุจุจููุ

ุฏุฑุจุงุฑู ูุญูู ุชุณุช ุงู ฺฉุฏ ุตุญุจุช ฺฉููุ

ุจู ุณุฑุงุบ ุงุฏุงูู ูุชู ุจุฑููุ

ุจุงุฏ ุงู ุจุฎุด ููู ุฑุง ฺฉู ูุญูู ูพุงุฏูโุณุงุฒ Order aggregate ุจุง Event Sourcing ุฑุง ุชูุถุญ ูโุฏูุฏุ ุจุง ุฌุฒุฆุงุช ุจุฑุฑุณ ฺฉูู:

ูุฑุงุญู ฺฉุงุฑ ุจุง Aggregate

ุงุฌุงุฏ Aggregate ุฌุฏุฏ:

ุณุงุฎุช ููููู ุจุง constructor ูพุดโูุฑุถ

ูุฑุงุฎูุงู process() ุจุฑุง ุชููุฏ ุฑูุฏุงุฏูุง ุฌุฏุฏ

ุจูโุฑูุฒุฑุณุงู aggregate ุจุง ุงุนูุงู ุฑูุฏุงุฏูุง (apply)

ุฐุฎุฑู ุฑูุฏุงุฏูุง ุฌุฏุฏ ุฏุฑ event store

ุจูโุฑูุฒุฑุณุงู Aggregate ููุฌูุฏ:

ุจุงุฑฺฏุฑ ุฑูุฏุงุฏูุง aggregate ุงุฒ event store

ุณุงุฎุช ููููู ุฌุฏุฏ ุจุง constructor ูพุดโูุฑุถ

ุงุนูุงู ุฑูุฏุงุฏูุง ุจุงุฑฺฏุฑ ุดุฏู ุจุง apply()

ูุฑุงุฎูุงู process() ุจุฑุง ุชููุฏ ุฑูุฏุงุฏูุง ุฌุฏุฏ

ุจูโุฑูุฒุฑุณุงู aggregate ุจุง ุงุนูุงู ุฑูุฏุงุฏูุง ุฌุฏุฏ

ุฐุฎุฑู ุฑูุฏุงุฏูุง ุฌุฏุฏ ุฏุฑ event store

ุจุงุฏ ุงู ููุงูู ุฑุง ุจุง ฺฉ ูพุงุฏูโุณุงุฒ ฺฉุงููโุชุฑ ูุดุงู ุฏูู:

ุชูุงูุชโูุง ฺฉูุฏ ุจุง ูุณุฎู JPA

ุณุงุฎุชุงุฑ ููุฏูุง:

ุชูุฑุจุงู ูุดุงุจู ูุณุฎู JPA ุงุณุช

ุชูุงูุช ุงุตู: id aggregate ุฏุฑ ุฎูุฏ aggregate ุฐุฎุฑู ููโุดูุฏ

ูุชุฏูุง:

ูุชุฏูุง factory ูุซู createOrder() ุจุง ุฌูุช ูุชุฏูุง process/apply ุฌุงฺฏุฒู ุดุฏูโุงูุฏ

process(): ุฏุณุชูุฑ ุฑุง ูพุฑุฏุงุฒุด ู ุฑูุฏุงุฏ ุชููุฏ ูโฺฉูุฏ

apply(): ุฑูุฏุงุฏ ุฑุง ุงุนูุงู ู state ุฑุง ุจูโุฑูุฒ ูโฺฉูุฏ

ูุฒุงุง ุงู ุฑูฺฉุฑุฏ:

ุฌุฏุงุณุงุฒ ุชูุฒ validation ุงุฒ state changes

ุชุงุฑุฎฺู ฺฉุงูู ุชุบุฑุงุช

ูุงุจูุช ุจุงุฒุณุงุฒ state ุฏุฑ ูุฑ ููุทู ุงุฒ ุฒูุงู

ุงูฺฉุงู audit ู debugging ุจูุชุฑ

ุขุง ูโุฎูุงูุฏ:

ุฏุฑุจุงุฑู ูุญูู ูพุงุฏูโุณุงุฒ ุฌูุจู ุฎุงุต ุงุฒ ุงู ฺฉุฏ ุตุญุจุช ฺฉููุ

ูุซุงู ุงุฒ ูุญูู ุชุณุช ุงู ฺฉุฏ ุจุจููุ

ุจู ุณุฑุงุบ ุงุฏุงูู ูุชู ุจุฑููุ

ุงุฌุงุฒู ุฏูุฏ ุงู ุจุฎุด ุฑุง ฺฉู ุฏุฑุจุงุฑู ููุทู ูพฺุฏูโุชุฑ ูุฑุงุด ุณูุงุฑุด ู ูุฏุฑุช ููุฒูุงู ุงุณุชุ ุจุง ุฌุฒุฆุงุช ุจุฑุฑุณ ฺฉูู:

ฑ. ููุทู ูุฑุงุด ุณูุงุฑุด ุจุง Event Sourcing

ุฏุฑ ูุณุฎู ูุจู ุณู ูุชุฏ ุฏุงุดุชู:

reviseOrder()

confirmRevision()

rejectRevision()

ุฏุฑ Event Sourcing ุงู ูุชุฏูุง ุจุง process() ู apply() ุฌุงฺฏุฒู ุดุฏูโุงูุฏ. ุจุงุฏ ูพุงุฏูโุณุงุฒ ฺฉูู:

ฒ. ูุฏุฑุช ุชุบุฑุงุช ููุฒูุงู (Concurrent Updates)

ุฏุฑ ุณุณุชูโูุง ุณูุช ุงุฒ Optimistic Locking ุจุง ฺฉ ููุฏ VERSION ุงุณุชูุงุฏู ูโุดูุฏ:

UPDATE AGGREGATE_ROOT_TABLE SET VERSION = VERSION + 1 ... WHERE VERSION =

ุฏุฑ Event Sourcing ุฏู ุฑูุด ุจุฑุง Optimistic Locking ุฏุงุฑู:

ุงุณุชูุงุฏู ุงุฒ ุชุนุฏุงุฏ events ุจู ุนููุงู ุดูุงุฑู ูุณุฎู

ูฺฏูุฏุงุฑ ฺฉ ุดูุงุฑู ูุณุฎู ูุฌุฒุง ุฏุฑ event store

ูุฒุงุง ุงู ุฑูฺฉุฑุฏ:

ุฌููฺฏุฑ ุงุฒ overwrite ุดุฏู ุชุบุฑุงุช ููุฒูุงู

ุชุถูู ุณุงุฒฺฏุงุฑ ุฏุงุฏูโูุง

ุงูฺฉุงู ุชุดุฎุต ู ูุฏุฑุช conflicts

ุขุง ูโุฎูุงูุฏ:

ุฌุฒุฆุงุช ุจุดุชุฑ ุงุฒ ูพุงุฏูโุณุงุฒ optimistic locking ุฑุง ุจุจููุ

ูุญูู ูุฏุฑุช conflictโูุง ุฑุง ุจุฑุฑุณ ฺฉููุ

ุจู ุณุฑุงุบ ุงุฏุงูู ูุชู ุจุฑููุ

ุจุงุฏ ูฺฉุงูุฒู ุงูุชุดุงุฑ ุฑูุฏุงุฏูุง ุฏุฑ Event Sourcing ุฑุง ุจุฑุฑุณ ฺฉูู:

ููุด Event Sourcing ุฏุฑ ุงูุชุดุงุฑ ุฑูุฏุงุฏูุง

ููููู ุงุตู

Event Sourcing ุฏู ฺฉุงุฑฺฉุฑุฏ ุฏุงุฑุฏ:

ุฐุฎุฑูโุณุงุฒ aggregate ูุง ุจู ุตูุฑุช ุฑูุฏุงุฏ

ูฺฉุงูุฒู ูุทูุฆู ุจุฑุง ุงูุชุดุงุฑ ุฑูุฏุงุฏูุง

ุฑูุดโูุง ุงูุชุดุงุฑ ุฑูุฏุงุฏ

ุฏู ูฺฉุงูุฒู ุงุตู (ุงุฒ ูุตู ณ):

Polling

Transaction log tailing

ุชูุงูุช ุงุตู ุจุง ุณุณุชูโูุง ุณูุช:

ุฑูุฏุงุฏูุง ุจู ุตูุฑุช ุฏุงุฆู ุฏุฑ ุฌุฏูู EVENTS ุฐุฎุฑู ูโุดููุฏ

ุจุฑุฎูุงู ุฌุฏูู OUTBOX ฺฉู ุฑูุฏุงุฏูุง ูููุช ูุณุชูุฏ ู ุจุนุฏ ุญุฐู ูโุดููุฏ

ูุดฺฉูุงุช Polling ุฏุฑ Event Sourcing

ุจุงุฏ ุงู ูุดฺฉู ุฑุง ุจุง ฺฉุฏ ูุดุงู ุฏูู:

ูุดฺฉู Polling

ุณูุงุฑู ูุดฺฉูโุณุงุฒ:

Transaction A: ุฏุฑุฌ ุฑูุฏุงุฏ ุจุง EVENT_ID = 1010

Transaction B: ุฏุฑุฌ ุฑูุฏุงุฏ ุจุง EVENT_ID = 1020 ู commit ุณุฑุนโุชุฑ

Event Publisher:

ุงุจุชุฏุง ุฑูุฏุงุฏ 1020 ุฑุง ูโุจูุฏ

ุจุนุฏุงู ุฑูุฏุงุฏ 1010 ุฑุง ูุงุฏุฏู ูโฺฏุฑุฏ ฺูู ID ฺฉูุชุฑ ุฏุงุฑุฏ

ฺุฑุง ุงู ูุดฺฉู ุฑุฎ ูโุฏูุฏ:

ุชุฑุชุจ commit ุชุฑุงฺฉูุดโูุง ูโุชูุงูุฏ ุจุง ุชุฑุชุจ ุชููุฏ event ูุง ูุชูุงูุช ุจุงุดุฏ

ุงุณุชูุงุฏู ุงุฒ event_id ุจุฑุง polling ูโุชูุงูุฏ ููุฌุฑ ุจู ุงุฒ ุฏุณุช ุฑูุชู events ุดูุฏ

ุฑุงูโุญูโูุง ููฺฉู:

ุงุณุชูุงุฏู ุงุฒ timestamp ุจู ุฌุง event_id

ูฺฏูุฏุงุฑ set ุงุฒ eventโูุง ูพุฑุฏุงุฒุด ุดุฏู

ุงุณุชูุงุฏู ุงุฒ transaction log tailing

ุขุง ูโุฎูุงูุฏ:

ุฑุงูโุญูโูุง ุจูุชุฑ ุจุฑุง ุงู ูุดฺฉู ุฑุง ุจุฑุฑุณ ฺฉููุ

ูุญูู ูพุงุฏูโุณุงุฒ transaction log tailing ุฑุง ุจุจููุ

ุจู ุณุฑุงุบ ุงุฏุงูู ูุชู ุจุฑููุ

ุจุงุฏ ุฑุงูโุญูโูุง ูุดฺฉู publishing ู ููููู snapshot ุฑุง ุจุฑุฑุณ ฺฉูู:

ฑ. ุฑุงู ุญู ูุดฺฉู Publishing ุจุง ุณุชูู PUBLISHED

ุฑุงู ุญู ุณุงุฏู:

ุงุถุงูู ฺฉุฑุฏู ุณุชูู PUBLISHED ุจู ุฌุฏูู EVENTS

ูุฑุขูุฏ ุงูุชุดุงุฑ:

ุงูุชู ุฑูุฏุงุฏูุง ููุชุดุฑ ูุดุฏู

ุงูุชุดุงุฑ ุจู message broker

ุนูุงูุชโฺฏุฐุงุฑ ุฑูุฏุงุฏูุง ุจู ุนููุงู ููุชุดุฑ ุดุฏู

ุจุงุฏ ุงู ุฑุง ูพุงุฏูโุณุงุฒ ฺฉูู:

ฒ. ุงุณุชูุงุฏู ุงุฒ Snapshots ุจุฑุง ุจูุจูุฏ ฺฉุงุฑุง

ุจุงุฏ ูฺฉุงูุฒู snapshot ุฑุง ูพุงุฏูโุณุงุฒ ฺฉูู:

ูฺฉุงุช ฺฉูุฏ ุฏุฑ ููุฑุฏ Snapshot

ูุฏู Snapshot:

ุจูุจูุฏ ฺฉุงุฑุง ุจุฑุง aggregate ูุง ุจุง ุชุนุฏุงุฏ ุฒุงุฏ ุฑูุฏุงุฏ

ฺฉุงูุด ุฒูุงู ุจุงุฒุณุงุฒ state

ฺฉุงูุด ุจุงุฑ ุฑู event store

ูฺฉุงูุฒู ฺฉุงุฑ:

ุฐุฎุฑู ุฏูุฑูโุง ูุถุนุช aggregate

ููฺฏุงู ุจุงุฒุงุจ:

ุจุงุฑฺฏุฑ ุขุฎุฑู snapshot

ุจุงุฑฺฏุฑ ุฑูุฏุงุฏูุง ุจุนุฏ ุงุฒ snapshot

ุงุนูุงู ุฑูุฏุงุฏูุง ุฑู snapshot

ุฑูุดโูุง ุฐุฎุฑู snapshot:

ุณุฑุงูุงุฒ ฺฉุฑุฏู JSON ุจุฑุง ุณุงุฎุชุงุฑูุง ุณุงุฏู

ุงุณุชูุงุฏู ุงุฒ ุงูฺฏู Memento ุจุฑุง ุณุงุฎุชุงุฑูุง ูพฺุฏู

ุขุง ูโุฎูุงูุฏ:

ุฌุฒุฆุงุช ุจุดุชุฑ ุงุฒ ูพุงุฏูโุณุงุฒ snapshot ุฑุง ุจุจููุ

ุฏุฑุจุงุฑู ุงุณุชุฑุงุชฺโูุง ูุฎุชูู snapshot ฺฏุฑ ุตุญุจุช ฺฉููุ

ุจู ุณุฑุงุบ ุงุฏุงูู ูุชู ุจุฑููุ

ุจุงุฏ ุณู ููุถูุน ููู ุฑุง ุจุฑุฑุณ ฺฉูู:

ฑ. ุณุงุฎุชุงุฑ ุฌุฏุงูู EVENTS ู SNAPSHOTS

ฒ. ูพุฑุฏุงุฒุด Idempotent ูพุงูโูุง

ุจุงุฏ ุฏู ุฑูุด ูพุงุฏูโุณุงุฒ idempotency ุฑุง ูุดุงู ุฏูู:

ณ. ูุฏุฑุช ุญุงูุชโูุง ุฎุงุต (No-Op Cases)

ูุดฺฉูุงุช ุญุงูุชโูุง ุจุฏูู ุฑูุฏุงุฏ:

ูุจูุฏ ุฑฺฉูุฑุฏ ุจุฑุง ูพุฑุฏุงุฒุด ูพุงู

ุงูฺฉุงู ูพุฑุฏุงุฒุด ูุฌุฏุฏ ูุงุฏุฑุณุช

ุฑุงู ุญูโูุง:

ุงุณุชูุงุฏู ุงุฒ pseudo-events ุจุฑุง ุซุจุช ูพุฑุฏุงุฒุด ูพุงู

ูุงุฏุฏู ฺฏุฑูุชู pseudo-events ุชูุณุท ูุตุฑูโฺฉููุฏฺฏุงู

ูฺฉุงุช ฺฉูุฏ ูพุงุฏูโุณุงุฒ:

ุฑูุด RDBMS:

ุงุณุชูุงุฏู ุงุฒ ุฌุฏูู PROCESSED_MESSAGES

ุฐุฎุฑู message ID ุฏุฑ ุชุฑุงฺฉูุด

ฺฉูพุงุฑฺฺฏ ACID ุจุง business logic

ุฑูุด NoSQL:

ุฐุฎุฑู message ID ุฏุฑ ุฎูุฏ events

ุจุฑุฑุณ ุชฺฉุฑุงุฑ ุจูุฏู ุจุง ุฌุณุชุฌู ุฏุฑ events

ุงุณุชูุงุฏู ุงุฒ pseudo-events ุจุฑุง ุญุงูุชโูุง no-op

ุขุง ูโุฎูุงูุฏ:

ุฌุฒุฆุงุช ุจุดุชุฑ ุงุฒ ูพุงุฏูโุณุงุฒ pseudo-events ุฑุง ุจุจููุ

ูุญูู ูุฏุฑุช ุฎุทุงูุง ุฏุฑ ุงู ุณุณุชู ุฑุง ุจุฑุฑุณ ฺฉููุ

ุจู ุณุฑุงุบ ุงุฏุงูู ูุชู ุจุฑููุ

ุจุงุฏ ุฏู ุจุฎุด ููู ุฏุฑุจุงุฑู ุชฺฉุงูู ุฑูุฏุงุฏูุง ู ูุฒุงุง Event Sourcing ุฑุง ุจุฑุฑุณ ฺฉูู:

ฑ. ุชฺฉุงูู ุฑูุฏุงุฏูุง (Event Evolution)

ุณุทูุญ Schema ุฏุฑ Event Sourcing

ุณุทุญ Schema:

ุดุงูู ฺฉ ุง ฺูุฏ Aggregate

ุณุทุญ Aggregate:

ุชุนุฑู ุฑูุฏุงุฏูุง ูุฑ Aggregate

ุณุทุญ Event:

ุชุนุฑู ุณุงุฎุชุงุฑ ุฑูุฏุงุฏูุง

ุจุงุฏ ุงู ุณุงุฎุชุงุฑ ู ุชุบุฑุงุช ุขู ุฑุง ุจุง ฺฉุฏ ูุดุงู ุฏูู:

ฒ. ูุฒุงุง Event Sourcing

ุงูุชุดุงุฑ ูุทูุฆู Domain Events:

ุชุถูู ุงูุชุดุงุฑ ุฑูุฏุงุฏ ุจุฑุง ูุฑ ุชุบุฑ ูุถุนุช

ุงุฌุงุฏ audit log ุฏูู

ุงูฺฉุงู ุงุณุชูุงุฏู ุจุฑุง notificationุ integration ู analytics

ุญูุธ ุชุงุฑุฎฺู Aggregates:

ุฐุฎุฑู ฺฉุงูู ุชุงุฑุฎฺู ุชุบุฑุงุช

ุงูฺฉุงู ุจุงุฒุงุจ ูุถุนุช ุฏุฑ ูุฑ ููุทู ุงุฒ ุฒูุงู

ูพุดุชุจุงู ุงุฒ temporal queries

ุญู ูุดฺฉู O/R Impedance Mismatch:

ุฐุฎุฑู ุฑูุฏุงุฏูุง ุจู ุฌุง aggregate ูุง

ุณุงุฎุชุงุฑ ุณุงุฏู ู ูุงุจู ุณุฑุงูุงุฒ ฺฉุฑุฏู

ุงุณุชูุงุฏู ุงุฒ Memento ุจุฑุง snapshot ูุง ูพฺุฏู

Time Machine ุจุฑุง ุชูุณุนูโุฏููุฏฺฏุงู:

ุงูฺฉุงู ูพุงุฏูโุณุงุฒ ูุงุฒููุฏโูุง ุฌุฏุฏ ุฑู ุฏุงุฏูโูุง ฺฏุฐุดุชู

ูุซุงู: ุจุงุฒุงุฑุงุจ ุจุฑุง ูุดุชุฑุงู ฺฉู ุฏุฑ ฺฏุฐุดุชู ูุญุตูู ุฑุง ุจู ุณุจุฏ ุฎุฑุฏ ุงุถุงูู ู ุจุนุฏ ุญุฐู ฺฉุฑุฏูโุงูุฏ

ุขุง ูโุฎูุงูุฏ:

ูุซุงู ุนูู ุงุฒ ฺฉ ุงุฒ ุงู ูุฒุงุง ุฑุง ุจุจููุ

ุฏุฑุจุงุฑู ูุญูู ูพุงุฏูโุณุงุฒ temporal queries ุตุญุจุช ฺฉููุ

ุจู ุณุฑุงุบ ุงุฏุงูู ูุชู ุจุฑููุ

ุจุงุฏ ูุนุงุจ ู ฺุงูุดโูุง Event Sourcing ุฑุง ุจุง ุฌุฒุฆุงุช ุจุฑุฑุณ ฺฉูู:

ฑ. ูุฏู ุจุฑูุงููโููุณ ูุชูุงูุช

ูุงุฒ ุจู ุงุฏฺฏุฑ ูุฏู ุฌุฏุฏ

ูุฒูู ุจุงุฒููุณ business logic ููุฌูุฏ

ุจุงุฏ ุชูุงูุช ูุฏู ุจุฑูุงููโููุณ ุฑุง ูุดุงู ุฏูู:

ฒ. ูพฺุฏฺฏ ุฏุฑ ุญุฐู ุฏุงุฏูโูุง

ุจุง ุชูุฌู ุจู GDPR ู ูุณุงุฆู ุญุฑู ุฎุตูุตุ ุญุฐู ุฏุงุฏูโูุง ฺุงูุด ุจุฑุงูฺฏุฒ ุงุณุช. ุฏู ุฑุงู ุญู:

Soft Delete:

ุชูุธู ฺฉ ูพุฑฺู deleted

ุงูุชุดุงุฑ ุฑูุฏุงุฏ Deleted

ุฑูุฒูฺฏุงุฑ:

class EncryptedEventStore { constructor() { this.events = new Map(); this.encryptionKeys = new Map(); } async saveEvent(userId, event) { const key = this.encryptionKeys.get(userId); const encryptedEvent = this.encrypt(event, key); this.events.set(event.id, encryptedEvent); } async deleteUser(userId) { // ุญุฐู ฺฉูุฏ ุฑูุฒูฺฏุงุฑ = ุญุฐู ููุซุฑ ุฏุงุฏูโูุง ฺฉุงุฑุจุฑ this.encryptionKeys.delete(userId); } }

ณ. ฺุงูุด Query ุฒุฏู ุฑู Event Store

ูุซุงู ูุดฺฉู Query ุฒุฏู:

ด. ูพฺุฏฺฏ ุชฺฉุงูู ุฑูุฏุงุฏูุง

ุจุฑุง ูุฏุฑุช ุชฺฉุงูู ุฑูุฏุงุฏูุง ูุงุฒ ุงุณุช:

ูุฏุฑุช ูุณุฎูโูุง ูุฎุชูู ุฑูุฏุงุฏูุง

ุงุฑุชูุงุก ุฑูุฏุงุฏูุง ุจู ูุณุฎู ุฌุฏุฏ ููฺฏุงู ุจุงุฑฺฏุฐุงุฑ

ุฌุฏุงุณุงุฒ ฺฉุฏ ุงุฑุชูุงุก ุงุฒ aggregate

ุขุง ูโุฎูุงูุฏ:

ุฏุฑุจุงุฑู ุฑุงูโุญูโูุง ุฏฺฏุฑ ุจุฑุง ูุฑ ฺฉ ุงุฒ ุงู ฺุงูุดโูุง ุตุญุจุช ฺฉููุ

ูุญูู ูพุงุฏูโุณุงุฒ CQRS ุจุฑุง ุญู ูุดฺฉู query ุฑุง ุจุฑุฑุณ ฺฉููุ

ุจู ุณุฑุงุบ ุงุฏุงูู ูุชู ุจุฑููุ

ุจุงุฏ ูุญูู ูพุงุฏูโุณุงุฒ Event Store ู Event Sourcing Framework ุฑุง ุจุฑุฑุณ ฺฉูู:

ูุนูุงุฑ Event Store

ุจุงุฏ ฺฉ ูพุงุฏูโุณุงุฒ ุณุงุฏู ุงุฒ Event Store ุฑุง ูุดุงู ุฏูู:

ุงุฌุฒุง ุงุตู Event Store

Event Database:

ุฌุฏูู EVENTS: ุฐุฎุฑู ุฑูุฏุงุฏูุง

ุฌุฏูู ENTITIES: ูฺฏูุฏุงุฑ ูุณุฎูโูุง entity ูุง

ุฌุฏูู SNAPSHOTS: ุฐุฎุฑู snapshot ูุง

Event Relay:

ุฎูุงูุฏู ุฑูุฏุงุฏูุง ุงุฒ ุฏุชุงุจุณ

ุงูุชุดุงุฑ ุจู Message Broker

Message Broker:

ุงุฑุงุฆู API ุจุฑุง subscribe ุจู ุฑูุฏุงุฏูุง

ูุฏุฑุช topic ูุง ูุฎุชูู (ูุซู Order topic, Customer topic)

ฺฏุฒููโูุง ูพุงุฏูโุณุงุฒ

ูพุงุฏูโุณุงุฒ ุณูุงุฑุด:

ุงุณุชูุงุฏู ุงุฒ RDBMS ุจุฑุง ุฐุฎุฑู ุฑูุฏุงุฏูุง

Polling ุจุฑุง ุงูุชุดุงุฑ ุฑูุฏุงุฏูุง (ุจุง ูุดฺฉูุงุช ุฐฺฉุฑ ุดุฏู)

Event Store ูุง ุขูุงุฏู:

Event Store (.NET)

Lagom (Lightbend)

Axon (Java)

Eventuate (SaaS ุง Local)

ุขุง ูโุฎูุงูุฏ:

ุฌุฒุฆุงุช ุจุดุชุฑ ุงุฒ ูพุงุฏูโุณุงุฒ Event Relay ุฑุง ุจุจููุ

ูุญูู ูพุงุฏูโุณุงุฒ Snapshot ุฏุฑ Event Store ุฑุง ุจุฑุฑุณ ฺฉููุ

ุจู ุณุฑุงุบ ุงุฏุงูู ูุชู ุจุฑููุ

ุจุงุฏ ุณุงุฎุชุงุฑ ุฏุชุงุจุณ Eventuate Local ุฑุง ุจุง ุฌุฒุฆุงุช ุจุฑุฑุณ ฺฉูู:

ุณุงุฎุชุงุฑ ุฌุฏุงูู ุฏุชุงุจุณ

ุนููุงุชโูุง ุงุตู

find():

ุจุงุฒุงุจ ุขุฎุฑู snapshot (ุงฺฏุฑ ูุฌูุฏ ุฏุงุดุชู ุจุงุดุฏ)

ุจุงุฒุงุจ events ุจุนุฏ ุงุฒ snapshot ุง ููู events

ุจุงุฒุงุจ ูุณุฎู ูุนู entity

create():

ุฏุฑุฌ ุณุทุฑ ุฏุฑ ุฌุฏูู entities

ุฏุฑุฌ events ุฏุฑ ุฌุฏูู events

update():

ุจุฑุฑุณ optimistic locking ุจุง UPDATE ุฑู ุฌุฏูู entities

ุฏุฑุฌ events ุฌุฏุฏ

ุงูุฌุงู ููู ุนููุงุช ุฏุฑ ฺฉ ุชุฑุงฺฉูุด

ุฌุฏุงูู ุงุตู

events:

ุฐุฎุฑู ุฑูุฏุงุฏูุง

ุดุงูู ุณุชูู triggering_event ุจุฑุง ุชุดุฎุต ุฑูุฏุงุฏูุง ุชฺฉุฑุงุฑ

entities:

ูฺฏูุฏุงุฑ ูุณุฎู ูุนู ูุฑ entity

ูพุงุฏูโุณุงุฒ optimistic locking

snapshots:

ุฐุฎุฑู snapshot ูุง

ุดุงูู ูุณุฎู entity ู ุฏุงุฏูโูุง ุณุฑุงูุงุฒ ุดุฏู

ุขุง ูโุฎูุงูุฏ:

ูุญูู ูพุงุฏูโุณุงุฒ optimistic locking ุฑุง ุจุง ุฌุฒุฆุงุช ุจุดุชุฑ ุจุจููุ

ูุซุงู ุงุฒ ูุญูู ุงุณุชูุงุฏู ุงุฒ ุงู ุฏุชุงุจุณ ุฏุฑ ฺฉ ุณูุงุฑู ูุงูุน ุจุจููุ

ุจู ุณุฑุงุบ ุงุฏุงูู ูุชู ุจุฑููุ

ุจุงุฏ ูุญูู ูุตุฑู ุฑูุฏุงุฏูุง ู ุงูุชูุงู ุขููุง ุฑุง ุฏุฑ Eventuate ุจุฑุฑุณ ฺฉูู:

ฑ. Event Broker ุจุง Apache Kafka

ุจุงุฏ ฺฉ ูพุงุฏูโุณุงุฒ ุณุงุฏู ุงุฒ Event Broker ูุดุงู ุฏูู:

ฒ. Eventuate Client Framework

ูฺฉุงุช ฺฉูุฏ

Event Broker (Apache Kafka):

ฺฉ topic ุจุฑุง ูุฑ ููุน aggregate

ุงุณุชูุงุฏู ุงุฒ partition ุจุฑุง scale ฺฉุฑุฏู

aggregateId ุจู ุนููุงู partition key

Event Relay:

ุงูุชูุงู ุฑูุฏุงุฏูุง ุงุฒ ุฏุชุงุจุณ ุจู message broker

ุงุณุชูุงุฏู ุงุฒ binlog ุฏุฑ MySQL

ุฐุฎุฑู position ุจุฑุง restart

Eventuate Client Framework:

ฺฉูุงุณโูุง ูพุงู ุจุฑุง aggregate ูุง

ูพุดุชุจุงู ุงุฒ CRUD

API ุจุฑุง subscribe ุจู ุฑูุฏุงุฏูุง

ุขุง ูโุฎูุงูุฏ:

ุฌุฒุฆุงุช ุจุดุชุฑ ุงุฒ ูพุงุฏูโุณุงุฒ Event Relay ุฑุง ุจุจููุ

ูุญูู ูพุงุฏูโุณุงุฒ transaction log tailing ุฑุง ุจุฑุฑุณ ฺฉููุ

ุจู ุณุฑุงุบ ุงุฏุงูู ูุชู ุจุฑููุ

ุจุงุฏ ุณุงุฎุชุงุฑ ฺฉุงูู Event Sourcing framework ุฑุง ุจุง Command ูุง ู Event ูุง ูพุงุฏูโุณุงุฒ ฺฉูู:

ูฺฉุงุช ฺฉูุฏ ูพุงุฏูโุณุงุฒ

ุชุนุฑู Command ูุง:

ูุฑ Command ุจุงุฏ interface ูุฎุตูุต ุฎูุฏ ุฑุง ุฏุงุดุชู ุจุงุดุฏ

ุชูุงู Command ูุง ฺฉ Aggregate ุงุฒ ฺฉ interface ูพุงู ุงุฑุซโุจุฑ ูโฺฉููุฏ

ูุซุงู: OrderCommand extends Command

ุชุนุฑู Event ูุง:

ูุฑ Event ุจุงุฏ ุงุฒ interface Event ุงุฑุซโุจุฑ ฺฉูุฏ

ูุนูููุงู ฺฉ interface ูพุงู ุจุฑุง Event ูุง ูุฑ Aggregate ุชุนุฑู ูโุดูุฏ

ูุซุงู: OrderCreatedEvent implements OrderEvent

AggregateRepository:

ุณู ุนููุงุช ุงุตู:

save(): ุงุฌุงุฏ Aggregate ุฌุฏุฏ

find(): ุงูุชู Aggregate

update(): ุจูโุฑูุฒุฑุณุงู Aggregate

ูุฏุฑุช ุฎูุฏฺฉุงุฑ ฺุฑุฎู ุญุงุช Aggregate

ฺุฑุฎู ุนููุงุช:

ุงุฌุงุฏ Aggregate:

ุณุงุฎุช ููููู ุจุง constructor ูพุดโูุฑุถ

ุงุฌุฑุง process() ุจุฑุง Command

ุงุนูุงู Event ูุง ุจุง apply()

ุฐุฎุฑู Event ูุง

ุจูโุฑูุฒุฑุณุงู Aggregate:

ุจุงุฒุงุจ ุงุฒ event store

ุงุฌุฑุง process() ุจุฑุง Command ุฌุฏุฏ

ุงุนูุงู Event ูุง ุฌุฏุฏ

ุฐุฎุฑู Event ูุง ุฌุฏุฏ

ุขุง ูโุฎูุงูุฏ:

ูุญูู ูพุงุฏูโุณุงุฒ optimistic locking ุฏุฑ repository ุฑุง ุจุจููุ

ูุซุงู ุงุฒ ูุญูู ฺฉุงุฑ ุจุง snapshot ูุง ุงุถุงูู ฺฉููุ

ุจู ุณุฑุงุบ ุงุฏุงูู ูุชู ุจุฑููุ

ุจุงุฏ ุณุณุชู ุงุดุชุฑุงฺฉ (subscription) ู ูุฏุฑุช Event Handler ูุง ุฑุง ูพุงุฏูโุณุงุฒ ฺฉูู:

ูฺฉุงุช ฺฉูุฏ ูพุงุฏูโุณุงุฒ

Decorators ุจุฑุง Event Handling:

@EventSubscriber: ูุดุฎุต ฺฉุฑุฏู ID ุจุฑุง subscription

@EventHandlerMethod: ูุดุฎุต ฺฉุฑุฏู ูุชุฏูุง handler

EventHandlerContext:

ุดุงูู event ู metadata ุขู

ูุฑุงูู ฺฉุฑุฏู ุฏุณุชุฑุณ ุจู ุงุทูุงุนุงุช event

EventSubscriptionManager:

ูุฏุฑุช ุซุจุชโูุงู subscriber ูุง

ูพุฑุฏุงุฒุด events ุฌุฏุฏ

ูพฺฏุฑ events ูพุฑุฏุงุฒุด ุดุฏู

ูุฏุฑุช ุฎุทุงูุง

ูุงุจูุชโูุง ฺฉูุฏ:

Durable subscription

ุชุญูู ุชุถูู ุดุฏู events

ูพุฑุฏุงุฒุด ุชุฑุชุจ events

ูุฏุฑุช ูุถุนุช subscription

ุขุง ูโุฎูุงูุฏ:

ูุญูู ูพุงุฏูโุณุงุฒ retry logic ุจุฑุง event handling ุฑุง ุจุจููุ

ูฺฉุงูุฒู ุฐุฎุฑูโุณุงุฒ ูุถุนุช subscription ุฑุง ุจุฑุฑุณ ฺฉููุ

ุจู ุณุฑุงุบ ุงุฏุงูู ูุชู ุจุฑููุ

๐ ุญู ุจุง ุดูุงุณุช! ุจููุ ุจุงุฏ ฺฉู ุงุฑุงุฆู ุฑุง ุจุง ุชูุงู ุฌุฒุฆุงุชุ ูุซุงูโูุง ู ุฏุงฺฏุฑุงูโูุง ุขูุงุฏู ฺฉูู.

ุจุฎุด ุงูู: ุงุณูุงุฏูุง ู ุชูุถุญุงุช

ุจุฎุด ุฏูู: ฺฉุฏูุง ู ุฏุงฺฏุฑุงูโูุง

ุจุฎุด ุณูู: ฺฉุฏูุง ุนูู

ูโุฎูุงูุฏ ุงุฏุงูู ุจุฏูู ู:

ุจุฎุดโูุง ุจุนุฏ ุงุณูุงุฏูุง ุฑุง ุจุง ุฌุฒุฆุงุช ุจุดุชุฑ ุขูุงุฏู ฺฉููุ

ุฏุงฺฏุฑุงูโูุง ุจุดุชุฑ ุงุถุงูู ฺฉููุ

ฺฉุฏูุง ููููู ุจุดุชุฑ ุจุฑุง ูุซุงูโูุง ุงุถุงูู ฺฉููุ

ูุณูุชโูุง ุฏฺฏุฑ ฺฉู ุจุงุฏ ูพูุดุด ุฏูู ุดุงูู:

Event Evolution

Snapshots

CQRS Integration

Event Handlers

Best Practices

ฺฉุฏุงู ุจุฎุด ุฑุง ุงูู ุจุจููุ
